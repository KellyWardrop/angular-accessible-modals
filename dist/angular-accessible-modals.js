/*! angular-accessible-modals 2015-01-02 */
!function(){"use strict";var a=angular.module("accessibleModals",[]);a.directive("accessibleModal",["$timeout",function(a){return{restrict:"AE",transclude:!0,template:'<div class="modal-overlay" data-ng-click="closeModal()" tabindex="-1"></div><div class="modal-dialog" role="dialog" aria-labelledby="modal-title" aria-hidden="{{ !modalState }}"><div role="document"><div class="modal-content" data-ng-transclude></div><button class="modal-close" type="button" data-ng-click="closeModal()" aria-label="Close dialog window"><span class="modal-close-label">Close</span></button></div></div>',link:function(b,c){var d=null,e=null,f="a[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), *[tabindex], *[contenteditable]";$(".modal-title",c).attr("id","model-title"),b.openModal=function(){b.modalState=!0,d=$(":focus"),a(function(){e=$(".modal-dialog",c).find(f).filter(":visible"),e.first().focus(),c.keydown(g)})},b.closeModal=function(){b.modalState=!1,d.focus()};var g=function(c){if(27==c.which&&a(b.closeModal),9==c.which){var d=e.index($(":focus"));c.shiftKey?0===d&&(e.get(e.length-1).focus(),c.preventDefault()):d==e.length-1&&(e.get(0).focus(),c.preventDefault())}}}}}])}();